(this["webpackJsonpweekly-to-do"]=this["webpackJsonpweekly-to-do"]||[]).push([[0],{226:function(e,t,a){},231:function(e,t,a){},234:function(e,t,a){},236:function(e,t,a){},237:function(e,t,a){},238:function(e,t,a){},239:function(e,t,a){},240:function(e,t,a){},241:function(e,t,a){},242:function(e,t,a){},243:function(e,t,a){},244:function(e,t,a){},245:function(e,t,a){},246:function(e,t,a){},247:function(e,t,a){},427:function(e,t,a){"use strict";a.r(t);var s=a(5),n=a(3),r=a.n(n),c=a(94),i=a.n(c),o=(a(226),a(8)),u=a(9),d=a(29),l=a(11),b=a(10),j=a(12),p=a.n(j),h=a(28),k="NEXT_WEEK",O="PREV_WEEK",f="NEXT_DAY",m="PREV_DAY",_="CURRENT_DATE",y="GET_TASKS_LIST_PROCESS",x="INIT_GET_TASKS_LIST",v="GET_TASKS_LIST_SUCCESS",g="GET_TASKS_LIST_ERROR",T="INIT_ADD_TASK",S="ADD_TASK_SUCCESS",w="ADD_TASK_ERROR",N="ADD_TASK_PROCESS",E="CLEAR_ADD_TASK",C="CHANGE_TASK_STATUS",W="UPDATE_TASK_PROCESS",D="MOVE_TASK_TO_NEXT_WEEK",A="CANCEL_MOVE_TASK_TO_NEXT_WEEK",I=(a(231),a(16)),F=(a(234),a(1)),L=function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.weekNumber,a=e.dayOfWeek,s=e.weekPeriod;return Object(F.jsxs)("hgroup",{className:"weekInfo",children:[Object(F.jsxs)("h2",{className:"weekInfo__mainTitle",children:["Week ",t]}),Object(F.jsx)("h3",{className:["weekInfo__subtitle","weekInfo__subtitle--day"].join(" "),children:a}),Object(F.jsx)("h3",{className:["weekInfo__subtitle","weekInfo__subtitle--week"].join(" "),children:s})]})}}]),a}(r.a.Component),K=(a(236),function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(u.a)(a,[{key:"render",value:function(){return Object(F.jsxs)("button",{className:["button",this.props.btnStyle,this.props.disabled?"button--disabled":null].join(" "),onClick:this.props.clicked,id:this.props.id,type:this.props.type,disabled:this.props.disabled,children:[this.props.children,Object(F.jsx)("span",{className:"button__description",children:this.props.description})]})}}]),a}(r.a.Component)),V=function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.weekNumber,a=e.dayOfWeek,s=e.weekPeriod;return Object(F.jsxs)("nav",{className:"weekNav",children:[Object(F.jsx)(K,{clicked:this.props.changeView,id:"prevWeek",btnStyle:"button--transparent",description:"Previous week",children:Object(F.jsx)(I.a,{icon:"angle-double-left",className:"weekNav__arrow"})}),Object(F.jsx)(K,{clicked:this.props.changeView,id:"prevDay",btnStyle:"button--transparent button--invisibleOnDesktop",description:"Previous day",children:Object(F.jsx)(I.a,{icon:"angle-left",className:"weekNav__arrow"})}),Object(F.jsx)(L,{weekNumber:t,dayOfWeek:a,weekPeriod:s}),Object(F.jsx)(K,{clicked:this.props.changeView,id:"nextDay",btnStyle:"button--transparent button--invisibleOnDesktop",description:"Next day",children:Object(F.jsx)(I.a,{icon:"angle-right",className:"weekNav__arrow"})}),Object(F.jsx)(K,{clicked:this.props.changeView,id:"nextWeek",btnStyle:"button--transparent",description:"Next week",children:Object(F.jsx)(I.a,{icon:"angle-double-right",className:"weekNav__arrow"})})]})}}]),a}(r.a.Component),M=function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).weekDays=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],s.changeView=s.changeView.bind(Object(d.a)(s)),s}return Object(u.a)(a,[{key:"changeView",value:function(e){var t=e.target.id;"prevWeek"===t?this.props.changeWeek(this.props.date,O):"nextWeek"===t?this.props.changeWeek(this.props.date,k):"prevDay"===t?this.props.changeDay(this.props.date,m):this.props.changeDay(this.props.date,f)}},{key:"dayOfWeek",value:function(){var e=this.props.date.isoWeekday();return this.weekDays[e-1]}},{key:"weekPeriod",value:function(){var e=p()(this.props.date).startOf("isoWeek").format("DD.MM.YYYY"),t=p()(this.props.date).endOf("isoWeek").format("DD.MM.YYYY");return"".concat(e," - ").concat(t)}},{key:"weekNumber",value:function(){return"".concat(p()(this.props.date).isoWeek())}},{key:"render",value:function(){return Object(F.jsx)(r.a.Fragment,{children:Object(F.jsx)(V,{changeView:this.changeView,dayOfWeek:this.dayOfWeek(),weekPeriod:this.weekPeriod(),weekNumber:this.weekNumber()})})}}]),a}(r.a.Component),R=Object(h.b)((function(e){return{date:e.dateState.date}}),(function(e){return{changeWeek:function(t,a){return e(function(e,t){var a,s=e.isoWeek();if(t===O)if(1===s){var n=e.year()-1,r=p()(e).year(n).isoWeeksInYear();a=p()(e).year(n).isoWeek(r)}else{var c=s-1;a=p()(e).isoWeek(c)}else if(t===k)if(s===p()(e).isoWeeksInYear()){var i=e.year()+1;a=p()(e).year(i).isoWeek(1)}else{var o=s+1;a=p()(e).isoWeek(o)}return{type:t,payload:a}}(t,a))},changeDay:function(t,a){return e(function(e,t){var a,s=e.date();if(t===m)if(1===s){var n=e.month()-1,r=p()(e).month(n).daysInMonth();a=p()(e).month(n).date(r)}else{var c=s-1;a=p()(e).date(c)}else if(t===f)if(s===e.daysInMonth()){var i=e.month()+1;a=p()(e).month(i).date(1)}else{var o=s+1;a=p()(e).date(o)}return{type:t,payload:a}}(t,a))}}}))(M),P=(a(237),0),Y=1,U=2,B=3,X=4,G=5,z=6,H=6,J=7,q=function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).statusIcon=s.statusIcon.bind(Object(d.a)(s)),s}return Object(u.a)(a,[{key:"statusIcon",value:function(e){switch(e){case P:return Object(F.jsx)("span",{className:"icon"});case Y:return Object(F.jsx)(I.a,{icon:"circle",className:"icon"});case U:return Object(F.jsx)(I.a,{icon:"ellipsis-h",className:"icon"});case B:return Object(F.jsx)(I.a,{icon:"star",className:"icon"});case X:return Object(F.jsx)(I.a,{icon:"angle-right",className:"icon"});case G:return Object(F.jsx)(I.a,{icon:"angle-double-right",className:"icon"});case z:return Object(F.jsx)(I.a,{icon:"times",className:"icon"});default:return""}}},{key:"render",value:function(){return Object(F.jsx)(r.a.Fragment,{children:this.statusIcon(this.props.status)})}}]),a}(r.a.Component),Q=(a(238),function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).currentSortIcon=function(){return s.state.asc?Object(F.jsx)(I.a,{icon:"sort-down",className:"button__icon--active"}):Object(F.jsx)(I.a,{icon:"sort-up",className:"button__icon--active"})},s.weekShort=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],s.state={sortBy:"tasks",asc:!1},s}return Object(u.a)(a,[{key:"setSortingOptions",value:function(e){this.state.sortBy===e?this.setState({asc:!this.state.asc}):this.setState({sortBy:e,asc:!1})}},{key:"tableSortingBy",value:function(e,t){var a=Object.values(e);"tasks"===t?a.sort((function(e,t){return e.title.toLowerCase().localeCompare(t.title.toLowerCase())})):a.sort((function(e,a){return void 0===e.status[t]||void 0===a.status[t]?-1:e.status[t]-a.status[t]})),this.state.asc&&a.reverse();var s={};for(var n in a)for(var r in this.props.tasks)a[n].title===this.props.tasks[r].title&&(s[r]=this.props.tasks[r]);return s}},{key:"tableHeads",value:function(e){var t=this;return this.weekShort.map((function(a,s){return Object(F.jsx)("th",{id:t.props.weekTimestamps[s],className:["tasksList__title",s!==e?"tasksList__title--invisible":null].join(" "),children:Object(F.jsxs)(K,{btnStyle:"button--transparent button__sort",clicked:function(){return t.setSortingOptions(t.props.weekTimestamps[s])},description:"sort",children:[a,Object(F.jsx)("span",{children:t.state.sortBy===t.props.weekTimestamps[s]?t.currentSortIcon():Object(F.jsx)(I.a,{icon:"sort",className:"button__icon"})})]})},s)}))}},{key:"tasksControl",value:function(e,t,a){var s=this;return e.map((function(e,n){var r=!1;for(var c in a){var i=a[c],o=p.a.unix(c),u=p.a.unix(e);c<e&&(i===B||i===z||i===G&&(o.isoWeek()===u.isoWeek()&&u.isoWeekday()!==J||o.isoWeekday()===J&&u.isoWeek()===o.isoWeek()+1))&&(r=!0)}return Object(F.jsx)("td",{className:["tasksList__day",n!==t?"tasksList__day--invisible":null].join(" "),children:Object(F.jsx)(K,{clicked:s.props.clicked,id:e,btnStyle:["button--transparent","button__statusIcon",r?"button__statusIcon--disabled":null].join(" "),disabled:r,description:"sort",children:Object(F.jsx)(q,{status:a[e]?a[e]:0})})},e)}))}},{key:"tableBody",value:function(e,t,a){var s=this,n=this.tableSortingBy(e,this.state.sortBy);return Object.keys(n).map((function(n){return Object(F.jsxs)("tr",{className:"tasksList__row",id:n,children:[s.tasksControl(t,a,e[n].status),Object(F.jsx)("td",{className:"tasksList__task",children:e[n].title})]},n)}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.tasks,s=t.currentDay,n=t.weekTimestamps;return Object(F.jsxs)("table",{className:"tasksList",children:[Object(F.jsx)("thead",{className:"tasksList__head",children:Object(F.jsxs)("tr",{className:"tasksList__row",children:[this.tableHeads(s),Object(F.jsx)("th",{className:"tasksList__title",id:"tasks",children:Object(F.jsxs)(K,{btnStyle:"button--transparent button__sort",clicked:function(){return e.setSortingOptions("tasks")},children:["Tasks",Object(F.jsx)("span",{children:"tasks"===this.state.sortBy?this.currentSortIcon():Object(F.jsx)(I.a,{icon:"sort",className:"button__icon"})})]})})]})}),Object(F.jsx)("tbody",{className:"tasksList__body",children:this.tableBody(a,n,s)})]})}}]),a}(r.a.Component)),Z=(a(239),function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(F.jsxs)("article",{className:"emptyList",children:[Object(F.jsx)("h1",{className:"emptyList__title",children:"There are no tasks!"}),Object(F.jsx)("p",{className:"emptyList__text",children:"Let's take a breath and relax"}),Object(F.jsx)(I.a,{icon:"couch",className:"emptyList__icon"}),Object(F.jsx)("p",{className:"emptyList__text",children:"or"})]})}}]),a}(r.a.Component)),$=(a(240),function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(F.jsx)("div",{className:"loader"})}}]),a}(r.a.Component)),ee=function(e,t){return{type:v,tasks:e,week:t}},te=function(e){return{type:S,id:e.id,data:e.data}},ae=function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).timer={},s.changeStatus=s.changeStatus.bind(Object(d.a)(s)),s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.getTasks(this.props.date.isoWeek())}},{key:"componentDidUpdate",value:function(e){this.props.date.isoWeek()!==e.date.isoWeek()&&this.props.getTasks(this.props.date.isoWeek())}},{key:"weekTimestamps",value:function(){for(var e=[],t=0;t<7;t++){var a=p()(this.props.date.format("YYYY-MM-DD")).isoWeekday(t).unix();e.push(a)}return e}},{key:"changeStatus",value:function(e){var t=e.target.id,a=e.target.parentElement.parentElement.id,s=this.props.tasks[a].status[t];(s===G||t===H&&s===X||t===H&&s===U)&&this.props.cancelMoveTaskToNextWeek(a),this.props.changeTaskStatus(t,a,s),this.statusCheck(a,s,t)}},{key:"statusCheck",value:function(e,t,a){var s=this;clearTimeout(this.timer[e]),this.timer[e]=setTimeout((function(){var n=p.a.unix(a).isoWeekday();if(t===U||t===G||t===X)for(var r in s.props.tasks[e].status)r>a&&s.props.changeTaskStatus(r,e,z);(t===X||n===H&&t===B||n===H&&t===Y)&&s.props.moveTaskToNextWeek(e),s.props.updateStatus(e)}),800)}},{key:"render",value:function(){var e=Object.keys(this.props.tasks).length,t=Object(F.jsx)($,{});return!this.props.loading&&e>0?t=Object(F.jsx)(Q,{currentDay:this.props.date.isoWeekday()-1,weekTimestamps:this.weekTimestamps(),tasks:this.props.tasks,clicked:this.changeStatus}):this.props.loading||0!==e||(t=Object(F.jsx)(Z,{})),Object(F.jsx)(r.a.Fragment,{children:t})}}]),a}(r.a.Component),se=Object(h.b)((function(e){return{date:e.dateState.date,loading:e.tasksState.loading,tasks:e.tasksState.tasks}}),(function(e){return{getTasks:function(t){return e({type:y,week:t})},changeTaskStatus:function(t,a,s){return e(function(e,t,a){var s=a+1;return 6===a?s=0:a||(s=1),{type:C,task:t,id:e,status:s}}(t,a,s))},updateStatus:function(t){return e(function(e){return{type:W,id:e}}(t))},moveTaskToNextWeek:function(t){return e(function(e){return{type:D,id:e}}(t))},cancelMoveTaskToNextWeek:function(t){return e(function(e){return{type:A,id:e}}(t))}}}))(ae),ne=(a(241),function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(u.a)(a,[{key:"render",value:function(){return this.props.show?Object(F.jsx)("div",{className:"backdrop",onClick:this.props.clicked}):null}}]),a}(r.a.Component)),re=(a(242),function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(u.a)(a,[{key:"render",value:function(){return Object(F.jsxs)(r.a.Fragment,{children:[Object(F.jsx)(ne,Object(s.a)({},this.props)),Object(F.jsx)("div",{className:["modal",this.props.show?null:"modal--invisible"].join(" "),children:this.props.children})]})}}]),a}(r.a.Component)),ce=(a(243),function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.inputChange,a=e.clicked,n=e.title,r=e.description;return Object(F.jsxs)("form",{className:"addTaskForm",children:[Object(F.jsx)("label",{htmlFor:"title",className:"addTaskForm__label",children:"Task"}),Object(F.jsx)("input",{type:"text",id:"title",onChange:t,className:"addTaskForm__text",value:n}),Object(F.jsx)("label",{htmlFor:"description",className:"addTaskForm__label",children:"Task description"}),Object(F.jsx)("textarea",{id:"description",onChange:t,className:"addTaskForm__textarea",value:r}),Object(F.jsx)(K,Object(s.a)(Object(s.a)({type:"submit",clicked:a,btnStyle:"button--dark"},this.props),{},{children:"Add task"}))]})}}]),a}(r.a.Component)),ie=(a(244),function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).addTaskProcess=function(e){e.preventDefault();var t={week:[n.props.date.isoWeek()],title:n.state.newTask.title.trim(),description:n.state.newTask.description.trim(),status:Object(s.a)({},n.state.newTask.status)};n.props.addTask(t),n.clearData()},n.state={show:!1,newTask:{title:"",description:"",status:{}}},n.changeAddFormVisibility=n.changeAddFormVisibility.bind(Object(d.a)(n)),n.inputChange=n.inputChange.bind(Object(d.a)(n)),n.addTaskProcess=n.addTaskProcess.bind(Object(d.a)(n)),n}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.error||e.message===this.props.message||""!==e.message||(this.changeAddFormVisibility(),this.props.clearAddTask())}},{key:"changeAddFormVisibility",value:function(){this.setState({show:!this.state.show}),this.state.show&&this.clearData(),(this.props.error||this.props.loading)&&this.props.clearAddTask()}},{key:"inputChange",value:function(e){var t=this.state.newTask,a=e.target.id,s=e.target.value;t[a]=s,this.setState({newTask:t})}},{key:"clearData",value:function(){this.setState({newTask:{title:"",description:""}})}},{key:"render",value:function(){var e=Object(F.jsx)(ce,{title:this.state.newTask.title,description:this.state.newTask.description,inputChange:this.inputChange,clicked:this.addTaskProcess,disabled:""===this.state.newTask.title});return this.props.loading?e=Object(F.jsx)($,{}):this.props.error&&(e=Object(F.jsx)("p",{children:this.props.message})),Object(F.jsxs)(r.a.Fragment,{children:[Object(F.jsxs)(re,{show:this.state.show,clicked:this.changeAddFormVisibility,children:[Object(F.jsx)(K,{clicked:this.changeAddFormVisibility,btnStyle:"button--transparent addTask__button",description:"close",children:Object(F.jsx)(I.a,{icon:"times",className:"addTask__close"})}),Object(F.jsx)("div",{className:"addTask",children:e})]}),Object(F.jsx)(K,{clicked:this.changeAddFormVisibility,btnStyle:"button--dark addTask__openForm",id:"fixed",children:"Add task"})]})}}]),a}(r.a.Component)),oe=Object(h.b)((function(e){return{date:e.dateState.date,loading:e.tasksState.loading,error:e.tasksState.error,message:e.tasksState.message}}),(function(e){return{addTask:function(t){return e({type:N,data:t})},clearAddTask:function(){return e({type:E})}}}))(ie),ue=(a(245),function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"checkWeekStatus",value:function(){return this.props.date.format("YYYY-MM-DD")===p()().format("YYYY-MM-DD")?null:this.props.date.isoWeek()===p()().isoWeek()?Object(F.jsx)(K,{btnStyle:"button--transparent button--invisibleOnDesktop",clicked:this.props.currentDate.bind(this),description:"Back to current calendar day",children:Object(F.jsx)(I.a,{icon:"adjust",className:"status"})}):Object(F.jsx)(K,{btnStyle:"button--transparent",clicked:this.props.currentDate.bind(this),description:"Back to current calendar week",children:Object(F.jsx)(I.a,{icon:"circle",className:"status"})})}},{key:"render",value:function(){return Object(F.jsx)(r.a.Fragment,{children:this.checkWeekStatus()})}}]),a}(r.a.Component)),de=Object(h.b)((function(e){return{date:e.dateState.date}}),(function(e){return{currentDate:function(){return e({type:_,payload:p()()})}}}))(ue),le=(a(246),function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(F.jsx)("h1",{className:"logo",children:"WeeklyToDo"})}}]),a}(r.a.Component)),be=(a(247),function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).state={open:!1},s.status=["planned","in progress","done","moved to next day","moved to next week","canceled"],s}return Object(u.a)(a,[{key:"legendData",value:function(){return this.status.map((function(e,t){return Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{className:"legend__symbol",children:Object(F.jsx)(q,{status:t+1})}),Object(F.jsx)("td",{className:"legend__description",children:e})]},t)}))}},{key:"legendVisibility",value:function(){this.setState({open:!this.state.open})}},{key:"render",value:function(){var e=["legend"];return this.state.open&&e.push("legend__open"),Object(F.jsx)(r.a.Fragment,{children:0===Object.keys(this.props.tasks).length?null:Object(F.jsxs)("aside",{className:e.join(" "),children:[Object(F.jsx)(K,{btnStyle:"button--dark",clicked:this.legendVisibility.bind(this),children:"Legend"}),Object(F.jsx)("h2",{className:"legend__title",children:"Legend"}),Object(F.jsxs)("table",{className:"legend__table",children:[Object(F.jsx)("thead",{children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{className:"legend__head",children:"Symbol"}),Object(F.jsx)("th",{className:"legend__head",children:"Description"})]})}),Object(F.jsx)("tbody",{className:"legend__data",children:this.legendData()})]})]})})}}]),a}(r.a.Component)),je=Object(h.b)((function(e){return{tasks:e.tasksState.tasks}}))(be);var pe=function(){return Object(F.jsxs)(r.a.Fragment,{children:[Object(F.jsxs)("header",{className:"header",children:[Object(F.jsx)(le,{}),Object(F.jsx)(de,{})]}),Object(F.jsxs)("main",{className:"main",children:[Object(F.jsx)(R,{}),Object(F.jsx)(se,{}),Object(F.jsx)(oe,{}),Object(F.jsx)(je,{})]})]})},he=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,429)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),s(e),n(e),r(e),c(e)}))},ke=a(216),Oe=a.n(ke),fe=a(217),me=a.n(fe),_e=a(218),ye=a.n(_e),xe=a(36),ve={date:p()()},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:case O:case f:case m:case _:return Object(s.a)(Object(s.a)({},e),{},{date:t.payload});default:return e}},Te=a(37),Se={week:0,tasks:{},loading:!0,error:!1,message:""},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:case T:return Object(s.a)(Object(s.a)({},e),{},{loading:!0,error:!1,message:""});case v:return Object(s.a)(Object(s.a)({},e),{},{tasks:t.tasks,loading:!1,week:t.week});case g:case w:return Object(s.a)(Object(s.a)({},e),{},{loading:!1,error:!0,message:t.error});case S:return Object(s.a)(Object(s.a)({},e),{},{tasks:Object(s.a)(Object(s.a)({},e.tasks),{},Object(Te.a)({},t.id,t.data)),loading:!1,message:"Task was added to list"});case E:return Object(s.a)(Object(s.a)({},e),{},{loading:!1,error:!1,message:""});case C:return Object(s.a)(Object(s.a)({},e),{},{tasks:Object(s.a)(Object(s.a)({},e.tasks),{},Object(Te.a)({},t.task,Object(s.a)(Object(s.a)({},e.tasks[t.task]),{},{status:Object(s.a)(Object(s.a)({},e.tasks[t.task].status),{},Object(Te.a)({},t.id,t.status))})))});default:return e}},Ne=a(221),Ee=a(23),Ce=a.n(Ee),We=a(13),De=a(220),Ae=a(96);a(428);Ae.a.initializeApp({apiKey:"AIzaSyDKV7jzF3sEfaFSLA99uJrgewhhj-Rk7r4",authDomain:"weeklytodoapp.firebaseapp.com",projectId:"weeklytodoapp",storageBucket:"weeklytodoapp.appspot.com",messagingSenderId:"153401274191",appId:"1:153401274191:web:16929c951a558228f55f3a"}),Ae.a.firestore();var Ie=Ae.a,Fe=function(e){return e.tasksState.tasks},Le=function(e){return e.tasksState.week},Ke=Ce.a.mark(Ue),Ve=Ce.a.mark(Be),Me=Ce.a.mark(Xe),Re=Ce.a.mark(Ge),Pe=Ce.a.mark(ze),Ye=Ie.firestore();function Ue(e){var t,a;return Ce.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(We.a)({type:x});case 2:return n.prev=2,n.next=5,Ye.collection("tasks").where("week","array-contains",e.week).get();case 5:return(t=n.sent).empty?a={}:t.forEach((function(e){a=Object(s.a)(Object(s.a)({},a),{},Object(Te.a)({},e.id,{title:e.data().title,status:e.data().status,week:e.data().week}))})),n.next=9,Object(We.a)(ee(a,e.week));case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(2),n.next=15,Object(We.a)({type:g,error:"Ups... Something went wrong"});case 15:case"end":return n.stop()}}),Ke,null,[[2,11]])}function Be(e){var t,a;return Ce.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(We.a)({type:T});case 2:return s.prev=2,s.next=5,Ye.collection("tasks").add(e.data);case 5:return t=s.sent,a={id:t.id,data:e.data},s.next=9,Object(We.a)(te(a));case 9:s.next=15;break;case 11:return s.prev=11,s.t0=s.catch(2),s.next=15,Object(We.a)({type:w,error:"Ups... Something went wrong"});case 15:case"end":return s.stop()}}),Ve,null,[[2,11]])}function Xe(e){var t;return Ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(We.b)(Fe);case 2:return t=a.sent,a.next=5,Object(We.a)({type:"INIT_UPDATE_TASK_STATUS"});case 5:return a.prev=5,a.next=8,Ye.collection("tasks").doc(e.id).update({status:t[e.id].status});case 8:return a.next=10,Object(We.a)({type:"UPDATE_TASK_SUCCESS"});case 10:a.next=16;break;case 12:return a.prev=12,a.t0=a.catch(5),a.next=16,Object(We.a)({type:"UPDATE_TASK_FAIL"});case 16:case"end":return a.stop()}}),Me,null,[[5,12]])}function Ge(e){var t;return Ce.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(We.b)(Le);case 2:return t=a.sent,a.next=5,Object(We.a)({type:"INIT_MOVE_TASK_TO_NEXT_WEEK"});case 5:return a.prev=5,a.next=8,Ye.collection("tasks").doc(e.id).update({week:Ie.firestore.FieldValue.arrayUnion(t+1)});case 8:return a.next=10,Object(We.a)({type:"MOVE_TASK_TO_NEXT_WEEK_SUCCESS"});case 10:a.next=17;break;case 12:return a.prev=12,a.t0=a.catch(5),console.log(a.t0),a.next=17,Object(We.a)({type:"MOVE_TASK_TO_NEXT_WEEK_ERROR"});case 17:case"end":return a.stop()}}),Re,null,[[5,12]])}function ze(e){var t,a,s,n;return Ce.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(We.b)(Le);case 2:return t=r.sent,r.next=5,Object(We.b)(Fe);case 5:return a=r.sent,r.next=8,a[e.id].week.filter((function(e){return e>t}));case 8:return s=r.sent,r.next=11,Object(We.a)({type:"INIT_CANCEL_MOVE_TASK_TO_NEXT_WEEK"});case 11:return r.prev=11,r.next=14,Ye.collection("tasks").doc(e.id).update({week:(n=Ie.firestore.FieldValue).arrayRemove.apply(n,Object(De.a)(s))});case 14:return r.next=16,Object(We.a)({type:"CANCEL_MOVE_TASK_TO_NEXT_WEEK_SUCCESS"});case 16:r.next=22;break;case 18:return r.prev=18,r.t0=r.catch(11),r.next=22,Object(We.a)({type:"CANCEL_MOVE_TASK_TO_NEXT_WEEK_ERROR"});case 22:case"end":return r.stop()}}),Pe,null,[[11,18]])}var He=Ce.a.mark(Je);function Je(){return Ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(We.c)(y,Ue);case 2:return e.next=4,Object(We.c)(N,Be);case 4:return e.next=6,Object(We.c)(W,Xe);case 6:return e.next=8,Object(We.c)(D,Ge);case 8:return e.next=10,Object(We.c)(A,ze);case 10:case"end":return e.stop()}}),He)}var qe=a(219),Qe=a(144),Ze=a(47),$e=a(24);p.a.extend(Oe.a),p.a.extend(me.a),p.a.extend(ye.a);var et=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||xe.d,tt=Object(Ne.a)(),at=Object(xe.c)({dateState:ge,tasksState:we,firestore:Qe.firestoreReducer}),st=Object(xe.e)(at,et(Object(xe.a)(tt))),nt={firebase:Ie,config:{},dispatch:st.dispatch,createFirestoreInstance:Qe.createFirestoreInstance};tt.run(Je),Ze.b.add($e.c,$e.b,$e.d,$e.e,$e.f,$e.h,$e.l,$e.m,$e.a,$e.g,$e.k,$e.j,$e.i),i.a.render(Object(F.jsx)(r.a.StrictMode,{children:Object(F.jsx)(h.a,{store:st,children:Object(F.jsx)(qe.ReactReduxFirebaseProvider,Object(s.a)(Object(s.a)({},nt),{},{children:Object(F.jsx)(pe,{})}))})}),document.getElementById("root")),he()}},[[427,1,2]]]);
//# sourceMappingURL=main.00bbf544.chunk.js.map