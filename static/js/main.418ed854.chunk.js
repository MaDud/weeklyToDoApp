(this["webpackJsonpweekly-to-do"]=this["webpackJsonpweekly-to-do"]||[]).push([[0],{228:function(e,t,a){},231:function(e,t,a){},233:function(e,t,a){},234:function(e,t,a){},414:function(e,t,a){"use strict";a.r(t);var n=a(11),s=a(2),r=a.n(s),c=a(89),i=a.n(c),o=a(9),d=a.n(o),u=a(49),l="NEXT_WEEK",j="PREV_WEEK",k="NEXT_DAY",b="PREV_DAY",f="ADD_TASK",h="GET_TASKS_LIST_PROCESS",p="INIT_GET_TASKS_LIST",O="GET_TASKS_LIST_SUCCESS",_="GET_TASKS_LIST_ERROR",y=(a(228),a(64)),w=(a(231),a(4)),m=function(e){return Object(w.jsxs)("hgroup",{className:"weekInfo",children:[Object(w.jsxs)("h2",{className:"weekInfo__mainTitle",children:["Week ",e.weekNumber]}),Object(w.jsx)("h3",{className:["weekInfo__subtitle","weekInfo__subtitle--day"].join(" "),children:e.dayOfWeek}),Object(w.jsx)("h3",{className:["weekInfo__subtitle","weekInfo__subtitle--week"].join(" "),children:e.weekPeriod})]})},v=function(e){return Object(w.jsxs)("nav",{className:"weekNav",children:[Object(w.jsx)(y.a,{icon:"angle-double-left",onClick:function(){return e.changeView("prevWeek")},className:"weekNav__arrow"}),Object(w.jsx)(y.a,{icon:"angle-left",className:["weekNav__arrow","weekNav__arrow--day"].join(" "),onClick:function(){return e.changeView("prevDay")}}),Object(w.jsx)(m,{weekNumber:e.weekNumber,dayOfWeek:e.dayOfWeek,weekPeriod:e.weekPeriod}),Object(w.jsx)(y.a,{icon:"angle-right",className:["weekNav__arrow","weekNav__arrow--day"].join(" "),onClick:function(){return e.changeView("nextDay")}}),Object(w.jsx)(y.a,{icon:"angle-double-right",onClick:function(){return e.changeView("nextWeek")},className:"weekNav__arrow"})]})},x=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],g=Object(u.b)((function(e){return{date:e.date.date}}),(function(e){return{changeWeek:function(t,a){return e(function(e,t){var a,n=e.isoWeek();if(t===j)if(1===n){var s=e.year()-1,r=d()(e).year(s).isoWeeksInYear();a=d()(e).year(s).isoWeek(r)}else{var c=n-1;a=d()(e).isoWeek(c)}else if(t===l)if(n===d()(e).isoWeeksInYear()){var i=e.year()+1;a=d()(e).year(i).isoWeek(1)}else{var o=n+1;a=d()(e).isoWeek(o)}return{type:t,payload:a}}(t,a))},changeDay:function(t,a){return e(function(e,t){var a,n=e.date();if(t===b)if(1===n){var s=e.month()-1,r=d()(e).month(s).daysInMonth();a=d()(e).month(s).date(r)}else{var c=n-1;a=d()(e).date(c)}else if(t===k)if(n===e.daysInMonth()){var i=e.month()+1;a=d()(e).month(i).date(1)}else{var o=n+1;a=d()(e).date(o)}return{type:t,payload:a}}(t,a))}}}))((function(e){return Object(w.jsx)(r.a.Fragment,{children:Object(w.jsx)(v,{changeView:function(t){"prevWeek"===t?e.changeWeek(e.date,j):"nextWeek"===t?e.changeWeek(e.date,l):"prevDay"===t?e.changeDay(e.date,b):e.changeDay(e.date,k)},dayOfWeek:function(){var t=e.date.isoWeekday();return x[t-1]}(),weekPeriod:function(){var t=d()(e.date).startOf("isoWeek").format("DD.MM.YYYY"),a=d()(e.date).endOf("isoWeek").format("DD.MM.YYYY");return"".concat(t," - ").concat(a)}(),weekNumber:"".concat(d()(e.date).isoWeek())})})})),N=a(211),T=a(212),W=a(219),S=a(217),I=(a(233),["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]),D=function(e){var t=I.map((function(t,a){return Object(w.jsx)("th",{className:["tasksList__title","tasksList__day",a!==e.currentDay?"tasksList__title--invisible":null].join(" "),children:t},a)})),a=e.weekTimestamps.map((function(t,a){return Object(w.jsx)("td",{className:["tasksList__day",a!==e.currentDay?"tasksList__title--invisible":null].join(" "),children:Object(w.jsx)("input",{type:"checkbox",id:t})},a)})),n=Object.keys(e.tasks).map((function(t){return Object(w.jsxs)("tr",{className:"tasksList__row",children:[a,Object(w.jsx)("td",{className:"taskList__task",children:e.tasks[t].title})]},t)}));return Object(w.jsxs)("table",{className:"tasksList",children:[Object(w.jsx)("thead",{className:"tasksList__head",children:Object(w.jsxs)("tr",{className:"tasksList__row",children:[t,Object(w.jsx)("th",{className:"tasksList__title",children:"Tasks"})]})}),Object(w.jsx)("tbody",{className:"tasksList__body",children:n})]})},E=(a(234),function(){return Object(w.jsx)("div",{className:"loader"})}),L=function(e){return{type:O,tasks:e}},F=function(e){Object(W.a)(a,e);var t=Object(S.a)(a);function a(){var e;Object(N.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).weekTimestamps=function(){for(var t=[],a=0;a<7;a++){var n=d()(e.props.date).isoWeekday(a).unix();t.push(n)}return t},e}return Object(T.a)(a,[{key:"componentDidMount",value:function(){this.props.getTasks(this.props.date.isoWeek())}},{key:"componentDidUpdate",value:function(e){this.props.date.isoWeek()!==e.date.isoWeek()&&this.props.getTasks(this.props.date.isoWeek())}},{key:"render",value:function(){return Object(w.jsx)(r.a.Fragment,{children:this.props.loading?Object(w.jsx)(E,{}):Object(w.jsx)(D,{currentDay:this.props.date.isoWeekday()-1,weekTimestamps:this.weekTimestamps(),tasks:this.props.tasks})})}}]),a}(r.a.Component),A=Object(u.b)((function(e){return{date:e.date.date,loading:e.tasks.loading,tasks:e.tasks.tasks}}),(function(e){return{getTasks:function(t){return e({type:h,week:t})}}}))(F);var C=function(){return Object(w.jsxs)(r.a.Fragment,{children:[Object(w.jsx)("header",{}),Object(w.jsxs)("main",{children:[Object(w.jsx)(g,{}),Object(w.jsx)(A,{})]})]})},Y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,416)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),r(e),c(e)}))},M=a(213),P=a.n(M),R=a(214),K=a.n(R),V=a(215),G=a.n(V),U=a(26),X={date:d()()},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:case j:case k:case b:return Object(n.a)(Object(n.a)({},e),{},{date:t.payload});default:return e}},B=a(48),J={tasks:{},loading:!0,error:null},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(n.a)(Object(n.a)({},e),{},{loading:!0,error:null});case O:return Object(n.a)(Object(n.a)({},e),{},{tasks:t.tasks,loading:!1});case _:return Object(n.a)(Object(n.a)({},e),{},{loading:!1,error:t.error});case f:return Object(n.a)(Object(n.a)({},e),{},{tasks:Object(n.a)(Object(n.a)({},e.tasks),{},Object(B.a)({},t.id,t.data))});default:return e}},H=a(218),Q=a(50),Z=a.n(Q),$=a(51),ee=a(91);a(415);ee.a.initializeApp({apiKey:"AIzaSyDKV7jzF3sEfaFSLA99uJrgewhhj-Rk7r4",authDomain:"weeklytodoapp.firebaseapp.com",projectId:"weeklytodoapp",storageBucket:"weeklytodoapp.appspot.com",messagingSenderId:"153401274191",appId:"1:153401274191:web:16929c951a558228f55f3a"}),ee.a.firestore();var te=ee.a,ae=Z.a.mark(se),ne=te.firestore();function se(e){var t,a;return Z.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object($.a)({type:p});case 2:return s.prev=2,s.next=5,ne.collection("tasks").where("week","==",e.week).get();case 5:return(t=s.sent).empty?a={}:t.forEach((function(e){a=Object(n.a)(Object(n.a)({},a),{},Object(B.a)({},e.id,e.data()))})),console.log(a),s.next=10,Object($.a)(L(a));case 10:s.next=16;break;case 12:return s.prev=12,s.t0=s.catch(2),s.next=16,Object($.a)({type:_,error:"Ups... Something went wrong"});case 16:case"end":return s.stop()}}),ae,null,[[2,12]])}var re=Z.a.mark(ce);function ce(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.b)(h,se);case 2:case"end":return e.stop()}}),re)}var ie=a(216),oe=a(139),de=a(36),ue=a(65);d.a.extend(P.a),d.a.extend(K.a),d.a.extend(G.a);var le=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||U.d,je=Object(H.a)(),ke=Object(U.c)({date:z,tasks:q,firestore:oe.firestoreReducer}),be=Object(U.e)(ke,le(Object(U.a)(je))),fe={firebase:te,config:{},dispatch:be.dispatch,createFirestoreInstance:oe.createFirestoreInstance};je.run(ce),de.b.add(ue.b,ue.a,ue.c,ue.d),i.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(u.a,{store:be,children:Object(w.jsx)(ie.ReactReduxFirebaseProvider,Object(n.a)(Object(n.a)({},fe),{},{children:Object(w.jsx)(C,{})}))})}),document.getElementById("root")),Y()}},[[414,1,2]]]);
//# sourceMappingURL=main.418ed854.chunk.js.map