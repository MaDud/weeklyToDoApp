(this["webpackJsonpweekly-to-do"]=this["webpackJsonpweekly-to-do"]||[]).push([[0],{227:function(e,t,a){},232:function(e,t,a){},235:function(e,t,a){},237:function(e,t,a){},238:function(e,t,a){},239:function(e,t,a){},240:function(e,t,a){},241:function(e,t,a){},242:function(e,t,a){},243:function(e,t,a){},244:function(e,t,a){},245:function(e,t,a){},246:function(e,t,a){},247:function(e,t,a){},248:function(e,t,a){},428:function(e,t,a){"use strict";a.r(t);var s=a(5),n=a(3),r=a.n(n),c=a(94),i=a.n(c),o=(a(227),a(8)),u=a(9),d=a(29),l=a(11),b=a(10),j=a(12),p=a.n(j),h=a(28),k="NEXT_WEEK",O="PREV_WEEK",f="NEXT_DAY",m="PREV_DAY",_="CURRENT_DATE",y="GET_TASKS_LIST_PROCESS",x="INIT_GET_TASKS_LIST",v="GET_TASKS_LIST_SUCCESS",g="GET_TASKS_LIST_ERROR",T="INIT_ADD_TASK",S="ADD_TASK_SUCCESS",w="ADD_TASK_ERROR",N="ADD_TASK_PROCESS",E="CLEAR_ADD_TASK",C="CHANGE_TASK_STATUS",W="UPDATE_TASK_PROCESS",D="MOVE_TASK_TO_NEXT_WEEK",A="CANCEL_MOVE_TASK_TO_NEXT_WEEK",I=(a(232),a(16)),F=(a(235),a(1)),L=function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.weekNumber,a=e.dayOfWeek,s=e.weekPeriod;return Object(F.jsxs)("hgroup",{className:"weekInfo",children:[Object(F.jsxs)("h2",{className:"weekInfo__mainTitle",children:["Week ",t]}),Object(F.jsx)("h3",{className:["weekInfo__subtitle","weekInfo__subtitle--day"].join(" "),children:a}),Object(F.jsx)("h3",{className:["weekInfo__subtitle","weekInfo__subtitle--week"].join(" "),children:s})]})}}]),a}(r.a.Component),K=(a(237),function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(u.a)(a,[{key:"render",value:function(){return Object(F.jsxs)("button",{className:["button",this.props.btnStyle,this.props.disabled?"button--disabled":null].join(" "),onClick:this.props.clicked,id:this.props.id,type:this.props.type,disabled:this.props.disabled,children:[this.props.children,Object(F.jsx)("span",{className:"button__description",children:this.props.description})]})}}]),a}(r.a.Component)),V=function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.weekNumber,a=e.dayOfWeek,s=e.weekPeriod;return Object(F.jsxs)("nav",{className:"weekNav",children:[Object(F.jsx)(K,{clicked:this.props.changeView,id:"prevWeek",btnStyle:"button--transparent",description:"Previous week",children:Object(F.jsx)(I.a,{icon:"angle-double-left",className:"weekNav__arrow"})}),Object(F.jsx)(K,{clicked:this.props.changeView,id:"prevDay",btnStyle:"button--transparent button--invisibleOnDesktop",description:"Previous day",children:Object(F.jsx)(I.a,{icon:"angle-left",className:"weekNav__arrow"})}),Object(F.jsx)(L,{weekNumber:t,dayOfWeek:a,weekPeriod:s}),Object(F.jsx)(K,{clicked:this.props.changeView,id:"nextDay",btnStyle:"button--transparent button--invisibleOnDesktop",description:"Next day",children:Object(F.jsx)(I.a,{icon:"angle-right",className:"weekNav__arrow"})}),Object(F.jsx)(K,{clicked:this.props.changeView,id:"nextWeek",btnStyle:"button--transparent",description:"Next week",children:Object(F.jsx)(I.a,{icon:"angle-double-right",className:"weekNav__arrow"})})]})}}]),a}(r.a.Component),M=function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).weekDays=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],s.changeView=s.changeView.bind(Object(d.a)(s)),s}return Object(u.a)(a,[{key:"changeView",value:function(e){var t=e.target.id;"prevWeek"===t?this.props.changeWeek(this.props.date,O):"nextWeek"===t?this.props.changeWeek(this.props.date,k):"prevDay"===t?this.props.changeDay(this.props.date,m):this.props.changeDay(this.props.date,f)}},{key:"dayOfWeek",value:function(){var e=this.props.date.isoWeekday();return this.weekDays[e-1]}},{key:"weekPeriod",value:function(){var e=p()(this.props.date).startOf("isoWeek").format("DD.MM.YYYY"),t=p()(this.props.date).endOf("isoWeek").format("DD.MM.YYYY");return"".concat(e," - ").concat(t)}},{key:"weekNumber",value:function(){return"".concat(p()(this.props.date).isoWeek())}},{key:"render",value:function(){return Object(F.jsx)(r.a.Fragment,{children:Object(F.jsx)(V,{changeView:this.changeView,dayOfWeek:this.dayOfWeek(),weekPeriod:this.weekPeriod(),weekNumber:this.weekNumber()})})}}]),a}(r.a.Component),R=Object(h.b)((function(e){return{date:e.dateState.date}}),(function(e){return{changeWeek:function(t,a){return e(function(e,t){var a,s=e.isoWeek();if(t===O)if(1===s){var n=e.year()-1,r=p()(e).year(n).isoWeeksInYear();a=p()(e).year(n).isoWeek(r)}else{var c=s-1;a=p()(e).isoWeek(c)}else if(t===k)if(s===p()(e).isoWeeksInYear()){var i=e.year()+1;a=p()(e).year(i).isoWeek(1)}else{var o=s+1;a=p()(e).isoWeek(o)}return{type:t,payload:a}}(t,a))},changeDay:function(t,a){return e(function(e,t){var a,s=e.date();if(t===m)if(1===s){var n=e.month()-1,r=p()(e).month(n).daysInMonth();a=p()(e).month(n).date(r)}else{var c=s-1;a=p()(e).date(c)}else if(t===f)if(s===e.daysInMonth()){var i=e.month()+1;a=p()(e).month(i).date(1)}else{var o=s+1;a=p()(e).date(o)}return{type:t,payload:a}}(t,a))}}}))(M),P=(a(238),0),Y=1,U=2,B=3,X=4,G=5,z=6,H=6,J=7,q=function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).statusIcon=s.statusIcon.bind(Object(d.a)(s)),s}return Object(u.a)(a,[{key:"statusIcon",value:function(e){switch(e){case P:return Object(F.jsx)("span",{className:"icon"});case Y:return Object(F.jsx)(I.a,{icon:"circle",className:"icon"});case U:return Object(F.jsx)(I.a,{icon:"ellipsis-h",className:"icon"});case B:return Object(F.jsx)(I.a,{icon:"star",className:"icon"});case X:return Object(F.jsx)(I.a,{icon:"angle-right",className:"icon"});case G:return Object(F.jsx)(I.a,{icon:"angle-double-right",className:"icon"});case z:return Object(F.jsx)(I.a,{icon:"times",className:"icon"});default:return""}}},{key:"render",value:function(){return Object(F.jsx)(r.a.Fragment,{children:this.statusIcon(this.props.status)})}}]),a}(r.a.Component),Q=(a(239),function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).currentSortIcon=function(){return s.state.asc?Object(F.jsx)(I.a,{icon:"sort-down",className:"button__icon--active"}):Object(F.jsx)(I.a,{icon:"sort-up",className:"button__icon--active"})},s.weekShort=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],s.state={sortBy:"tasks",asc:!1},s}return Object(u.a)(a,[{key:"setSortingOptions",value:function(e){this.state.sortBy===e?this.setState({asc:!this.state.asc}):this.setState({sortBy:e,asc:!1})}},{key:"tableSortingBy",value:function(e,t){var a=Object.values(e);"tasks"===t?a.sort((function(e,t){return e.title.toLowerCase().localeCompare(t.title.toLowerCase())})):a.sort((function(e,a){return void 0===e.status[t]||void 0===a.status[t]?-1:e.status[t]-a.status[t]})),this.state.asc&&a.reverse();var s={};for(var n in a)for(var r in this.props.tasks)a[n].title===this.props.tasks[r].title&&(s[r]=this.props.tasks[r]);return s}},{key:"tableHeads",value:function(e){var t=this;return this.weekShort.map((function(a,s){return Object(F.jsx)("th",{id:t.props.weekTimestamps[s],className:["tasksList__title",s!==e?"tasksList__title--invisible":null].join(" "),children:Object(F.jsxs)(K,{btnStyle:"button--transparent button__sort",clicked:function(){return t.setSortingOptions(t.props.weekTimestamps[s])},description:"sort",children:[a,Object(F.jsx)("span",{children:t.state.sortBy===t.props.weekTimestamps[s]?t.currentSortIcon():Object(F.jsx)(I.a,{icon:"sort",className:"button__icon"})})]})},s)}))}},{key:"tasksControl",value:function(e,t,a){var s=this;return e.map((function(e,n){var r=!1;for(var c in a){var i=a[c],o=p.a.unix(c),u=p.a.unix(e);c<e&&(i===B||i===z||i===G&&(o.isoWeek()===u.isoWeek()&&u.isoWeekday()!==J||o.isoWeekday()===J&&u.isoWeek()===o.isoWeek()+1))&&(r=!0)}return Object(F.jsx)("td",{className:["tasksList__day",n!==t?"tasksList__day--invisible":null].join(" "),children:Object(F.jsx)(K,{clicked:s.props.clicked,id:e,btnStyle:["button--transparent","button__statusIcon",r?"button__statusIcon--disabled":null].join(" "),disabled:r,description:"sort",children:Object(F.jsx)(q,{status:a[e]?a[e]:0})})},e)}))}},{key:"tableBody",value:function(e,t,a){var s=this,n=this.tableSortingBy(e,this.state.sortBy);return Object.keys(n).map((function(n){return Object(F.jsxs)("tr",{className:"tasksList__row",id:n,children:[s.tasksControl(t,a,e[n].status),Object(F.jsx)("td",{className:"tasksList__task",children:e[n].title})]},n)}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.tasks,s=t.currentDay,n=t.weekTimestamps;return Object(F.jsxs)("table",{className:"tasksList",children:[Object(F.jsx)("thead",{className:"tasksList__head",children:Object(F.jsxs)("tr",{className:"tasksList__row",children:[this.tableHeads(s),Object(F.jsx)("th",{className:"tasksList__title",id:"tasks",children:Object(F.jsxs)(K,{btnStyle:"button--transparent button__sort",clicked:function(){return e.setSortingOptions("tasks")},children:["Tasks",Object(F.jsx)("span",{children:"tasks"===this.state.sortBy?this.currentSortIcon():Object(F.jsx)(I.a,{icon:"sort",className:"button__icon"})})]})})]})}),Object(F.jsx)("tbody",{className:"tasksList__body",children:this.tableBody(a,n,s)})]})}}]),a}(r.a.Component)),Z=(a(240),function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(F.jsxs)("article",{className:"emptyList",children:[Object(F.jsx)("h1",{className:"emptyList__title",children:"There are no tasks!"}),Object(F.jsx)("p",{className:"emptyList__text",children:"Let's take a breath and relax"}),Object(F.jsx)(I.a,{icon:"couch",className:"emptyList__icon"}),Object(F.jsx)("p",{className:"emptyList__text",children:"or"})]})}}]),a}(r.a.Component)),$=function(e,t){return{type:v,tasks:e,week:t}},ee=function(e){return{type:S,id:e.id,data:e.data}},te=a(222),ae=(a(241),function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(F.jsx)("div",{className:"loader"})}}]),a}(r.a.Component)),se=function(e){return function(t){var a=t.loading,n=Object(te.a)(t,["loading"]);return a?Object(F.jsx)(ae,{}):Object(F.jsx)(e,Object(s.a)({},n))}},ne=se(Q),re=se(Z),ce=function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).timer={},s.changeStatus=s.changeStatus.bind(Object(d.a)(s)),s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.getTasks(this.props.date.isoWeek())}},{key:"componentDidUpdate",value:function(e){this.props.date.isoWeek()!==e.date.isoWeek()&&this.props.getTasks(this.props.date.isoWeek())}},{key:"weekTimestamps",value:function(){for(var e=[],t=0;t<7;t++){var a=p()(this.props.date.format("YYYY-MM-DD")).isoWeekday(t).unix();e.push(a)}return e}},{key:"changeStatus",value:function(e){var t=e.target.id,a=e.target.parentElement.parentElement.id,s=this.props.tasks[a].status[t];(s===G||t===H&&s===X||t===H&&s===U)&&this.props.cancelMoveTaskToNextWeek(a),this.props.changeTaskStatus(t,a,s),this.statusCheck(a,s,t)}},{key:"statusCheck",value:function(e,t,a){var s=this;clearTimeout(this.timer[e]),this.timer[e]=setTimeout((function(){var n=p.a.unix(a).isoWeekday();if(t===U||t===G||t===X)for(var r in s.props.tasks[e].status)r>a&&s.props.changeTaskStatus(r,e,z);(t===X||n===H&&t===B||n===H&&t===Y)&&s.props.moveTaskToNextWeek(e),s.props.updateStatus(e)}),800)}},{key:"render",value:function(){var e=Object.keys(this.props.tasks).length,t=Object(F.jsx)(re,{loading:this.props.loading});return e>0&&(t=Object(F.jsx)(ne,{loading:this.props.loading,currentDay:this.props.date.isoWeekday()-1,weekTimestamps:this.weekTimestamps(),tasks:this.props.tasks,clicked:this.changeStatus})),Object(F.jsx)(r.a.Fragment,{children:t})}}]),a}(r.a.Component),ie=Object(h.b)((function(e){return{date:e.dateState.date,loading:e.tasksState.loading,tasks:e.tasksState.tasks}}),(function(e){return{getTasks:function(t){return e({type:y,week:t})},changeTaskStatus:function(t,a,s){return e(function(e,t,a){var s=a+1;return 6===a?s=0:a||(s=1),{type:C,task:t,id:e,status:s}}(t,a,s))},updateStatus:function(t){return e(function(e){return{type:W,id:e}}(t))},moveTaskToNextWeek:function(t){return e(function(e){return{type:D,id:e}}(t))},cancelMoveTaskToNextWeek:function(t){return e(function(e){return{type:A,id:e}}(t))}}}))(ce),oe=(a(242),function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(u.a)(a,[{key:"render",value:function(){return this.props.show?Object(F.jsx)("div",{className:"backdrop",onClick:this.props.clicked}):null}}]),a}(r.a.Component)),ue=(a(243),function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(u.a)(a,[{key:"render",value:function(){return Object(F.jsxs)(r.a.Fragment,{children:[Object(F.jsx)(oe,Object(s.a)({},this.props)),Object(F.jsx)("div",{className:["modal",this.props.show?null:"modal--invisible"].join(" "),children:this.props.children})]})}}]),a}(r.a.Component)),de=(a(244),function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(e){return Object(o.a)(this,a),t.call(this,e)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.inputChange,a=e.clicked,n=e.title,r=e.description;return Object(F.jsxs)("form",{className:"addTaskForm",children:[Object(F.jsx)("label",{htmlFor:"title",className:"addTaskForm__label",children:"Task"}),Object(F.jsx)("input",{type:"text",id:"title",onChange:t,className:"addTaskForm__text",value:n}),Object(F.jsx)("label",{htmlFor:"description",className:"addTaskForm__label",children:"Task description"}),Object(F.jsx)("textarea",{id:"description",onChange:t,className:"addTaskForm__textarea",value:r}),Object(F.jsx)(K,Object(s.a)(Object(s.a)({type:"submit",clicked:a,btnStyle:"button--dark"},this.props),{},{children:"Add task"}))]})}}]),a}(r.a.Component)),le=(a(245),se(de)),be=function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).addTaskProcess=function(e){e.preventDefault();var t={week:[n.props.date.isoWeek()],title:n.state.newTask.title.trim(),description:n.state.newTask.description.trim(),status:Object(s.a)({},n.state.newTask.status)};n.props.addTask(t),n.clearData()},n.state={show:!1,newTask:{title:"",description:"",status:{}}},n.changeAddFormVisibility=n.changeAddFormVisibility.bind(Object(d.a)(n)),n.inputChange=n.inputChange.bind(Object(d.a)(n)),n.addTaskProcess=n.addTaskProcess.bind(Object(d.a)(n)),n}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.error||e.message===this.props.message||""!==e.message||(this.changeAddFormVisibility(),this.props.clearAddTask())}},{key:"changeAddFormVisibility",value:function(){this.setState({show:!this.state.show}),this.state.show&&this.clearData(),(this.props.error||this.props.loading)&&this.props.clearAddTask()}},{key:"inputChange",value:function(e){var t=this.state.newTask,a=e.target.id,s=e.target.value;t[a]=s,this.setState({newTask:t})}},{key:"clearData",value:function(){this.setState({newTask:{title:"",description:""}})}},{key:"render",value:function(){var e=Object(F.jsx)(le,{loading:this.props.loading,title:this.state.newTask.title,description:this.state.newTask.description,inputChange:this.inputChange,clicked:this.addTaskProcess,disabled:""===this.state.newTask.title});return this.props.error&&(e=Object(F.jsx)("p",{children:this.props.message})),Object(F.jsxs)(r.a.Fragment,{children:[Object(F.jsxs)(ue,{show:this.state.show,clicked:this.changeAddFormVisibility,children:[Object(F.jsx)(K,{clicked:this.changeAddFormVisibility,btnStyle:"button--transparent addTask__button",description:"close",children:Object(F.jsx)(I.a,{icon:"times",className:"addTask__close"})}),Object(F.jsx)("div",{className:"addTask",children:e})]}),Object(F.jsx)(K,{clicked:this.changeAddFormVisibility,btnStyle:"button--dark addTask__openForm",id:"fixed",children:"Add task"})]})}}]),a}(r.a.Component),je=Object(h.b)((function(e){return{date:e.dateState.date,loading:e.tasksState.loading,error:e.tasksState.error,message:e.tasksState.message}}),(function(e){return{addTask:function(t){return e({type:N,data:t})},clearAddTask:function(){return e({type:E})}}}))(be),pe=(a(246),function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"checkWeekStatus",value:function(){return this.props.date.format("YYYY-MM-DD")===p()().format("YYYY-MM-DD")?null:this.props.date.isoWeek()===p()().isoWeek()?Object(F.jsx)(K,{btnStyle:"button--transparent button--invisibleOnDesktop",clicked:this.props.currentDate.bind(this),description:"Back to current calendar day",children:Object(F.jsx)(I.a,{icon:"adjust",className:"status"})}):Object(F.jsx)(K,{btnStyle:"button--transparent",clicked:this.props.currentDate.bind(this),description:"Back to current calendar week",children:Object(F.jsx)(I.a,{icon:"circle",className:"status"})})}},{key:"render",value:function(){return Object(F.jsx)(r.a.Fragment,{children:this.checkWeekStatus()})}}]),a}(r.a.Component)),he=Object(h.b)((function(e){return{date:e.dateState.date}}),(function(e){return{currentDate:function(){return e({type:_,payload:p()()})}}}))(pe),ke=(a(247),function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(F.jsx)("h1",{className:"logo",children:"WeeklyToDo"})}}]),a}(r.a.Component)),Oe=(a(248),function(e){Object(l.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).state={open:!1},s.status=["planned","in progress","done","moved to next day","moved to next week","canceled"],s}return Object(u.a)(a,[{key:"legendData",value:function(){return this.status.map((function(e,t){return Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{className:"legend__symbol",children:Object(F.jsx)(q,{status:t+1})}),Object(F.jsx)("td",{className:"legend__description",children:e})]},t)}))}},{key:"legendVisibility",value:function(){this.setState({open:!this.state.open})}},{key:"render",value:function(){var e=["legend"];return this.state.open&&e.push("legend__open"),Object(F.jsx)(r.a.Fragment,{children:0===Object.keys(this.props.tasks).length?null:Object(F.jsxs)("aside",{className:e.join(" "),children:[Object(F.jsx)(K,{btnStyle:"button--dark",clicked:this.legendVisibility.bind(this),children:"Legend"}),Object(F.jsx)("h2",{className:"legend__title",children:"Legend"}),Object(F.jsxs)("table",{className:"legend__table",children:[Object(F.jsx)("thead",{children:Object(F.jsxs)("tr",{children:[Object(F.jsx)("th",{className:"legend__head",children:"Symbol"}),Object(F.jsx)("th",{className:"legend__head",children:"Description"})]})}),Object(F.jsx)("tbody",{className:"legend__data",children:this.legendData()})]})]})})}}]),a}(r.a.Component)),fe=Object(h.b)((function(e){return{tasks:e.tasksState.tasks}}))(Oe);var me=function(){return Object(F.jsxs)(r.a.Fragment,{children:[Object(F.jsxs)("header",{className:"header",children:[Object(F.jsx)(ke,{}),Object(F.jsx)(he,{})]}),Object(F.jsxs)("main",{className:"main",children:[Object(F.jsx)(R,{}),Object(F.jsx)(ie,{}),Object(F.jsx)(je,{}),Object(F.jsx)(fe,{})]})]})},_e=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,430)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),s(e),n(e),r(e),c(e)}))},ye=a(216),xe=a.n(ye),ve=a(217),ge=a.n(ve),Te=a(218),Se=a.n(Te),we=a(36),Ne={date:p()()},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:case O:case f:case m:case _:return Object(s.a)(Object(s.a)({},e),{},{date:t.payload});default:return e}},Ce=a(37),We={week:0,tasks:{},loading:!0,error:!1,message:""},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:case T:return Object(s.a)(Object(s.a)({},e),{},{loading:!0,error:!1,message:""});case v:return Object(s.a)(Object(s.a)({},e),{},{tasks:t.tasks,loading:!1,week:t.week});case g:case w:return Object(s.a)(Object(s.a)({},e),{},{loading:!1,error:!0,message:t.error});case S:return Object(s.a)(Object(s.a)({},e),{},{tasks:Object(s.a)(Object(s.a)({},e.tasks),{},Object(Ce.a)({},t.id,t.data)),loading:!1,message:"Task was added to list"});case E:return Object(s.a)(Object(s.a)({},e),{},{loading:!1,error:!1,message:""});case C:return Object(s.a)(Object(s.a)({},e),{},{tasks:Object(s.a)(Object(s.a)({},e.tasks),{},Object(Ce.a)({},t.task,Object(s.a)(Object(s.a)({},e.tasks[t.task]),{},{status:Object(s.a)(Object(s.a)({},e.tasks[t.task].status),{},Object(Ce.a)({},t.id,t.status))})))});default:return e}},Ae=a(221),Ie=a(23),Fe=a.n(Ie),Le=a(13),Ke=a(220),Ve=a(96);a(429);Ve.a.initializeApp({apiKey:"AIzaSyDKV7jzF3sEfaFSLA99uJrgewhhj-Rk7r4",authDomain:"weeklytodoapp.firebaseapp.com",projectId:"weeklytodoapp",storageBucket:"weeklytodoapp.appspot.com",messagingSenderId:"153401274191",appId:"1:153401274191:web:16929c951a558228f55f3a"}),Ve.a.firestore();var Me=Ve.a,Re=function(e){return e.tasksState.tasks},Pe=function(e){return e.tasksState.week},Ye=Fe.a.mark(He),Ue=Fe.a.mark(Je),Be=Fe.a.mark(qe),Xe=Fe.a.mark(Qe),Ge=Fe.a.mark(Ze),ze=Me.firestore();function He(e){var t,a;return Fe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Le.a)({type:x});case 2:return n.prev=2,n.next=5,ze.collection("tasks").where("week","array-contains",e.week).get();case 5:return(t=n.sent).empty?a={}:t.forEach((function(e){a=Object(s.a)(Object(s.a)({},a),{},Object(Ce.a)({},e.id,{title:e.data().title,status:e.data().status,week:e.data().week}))})),n.next=9,Object(Le.a)($(a,e.week));case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(2),n.next=15,Object(Le.a)({type:g,error:"Ups... Something went wrong"});case 15:case"end":return n.stop()}}),Ye,null,[[2,11]])}function Je(e){var t,a;return Fe.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(Le.a)({type:T});case 2:return s.prev=2,s.next=5,ze.collection("tasks").add(e.data);case 5:return t=s.sent,a={id:t.id,data:e.data},s.next=9,Object(Le.a)(ee(a));case 9:s.next=15;break;case 11:return s.prev=11,s.t0=s.catch(2),s.next=15,Object(Le.a)({type:w,error:"Ups... Something went wrong"});case 15:case"end":return s.stop()}}),Ue,null,[[2,11]])}function qe(e){var t;return Fe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(Le.b)(Re);case 2:return t=a.sent,a.next=5,Object(Le.a)({type:"INIT_UPDATE_TASK_STATUS"});case 5:return a.prev=5,a.next=8,ze.collection("tasks").doc(e.id).update({status:t[e.id].status});case 8:return a.next=10,Object(Le.a)({type:"UPDATE_TASK_SUCCESS"});case 10:a.next=16;break;case 12:return a.prev=12,a.t0=a.catch(5),a.next=16,Object(Le.a)({type:"UPDATE_TASK_FAIL"});case 16:case"end":return a.stop()}}),Be,null,[[5,12]])}function Qe(e){var t;return Fe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(Le.b)(Pe);case 2:return t=a.sent,a.next=5,Object(Le.a)({type:"INIT_MOVE_TASK_TO_NEXT_WEEK"});case 5:return a.prev=5,a.next=8,ze.collection("tasks").doc(e.id).update({week:Me.firestore.FieldValue.arrayUnion(t+1)});case 8:return a.next=10,Object(Le.a)({type:"MOVE_TASK_TO_NEXT_WEEK_SUCCESS"});case 10:a.next=17;break;case 12:return a.prev=12,a.t0=a.catch(5),console.log(a.t0),a.next=17,Object(Le.a)({type:"MOVE_TASK_TO_NEXT_WEEK_ERROR"});case 17:case"end":return a.stop()}}),Xe,null,[[5,12]])}function Ze(e){var t,a,s,n;return Fe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(Le.b)(Pe);case 2:return t=r.sent,r.next=5,Object(Le.b)(Re);case 5:return a=r.sent,r.next=8,a[e.id].week.filter((function(e){return e>t}));case 8:return s=r.sent,r.next=11,Object(Le.a)({type:"INIT_CANCEL_MOVE_TASK_TO_NEXT_WEEK"});case 11:return r.prev=11,r.next=14,ze.collection("tasks").doc(e.id).update({week:(n=Me.firestore.FieldValue).arrayRemove.apply(n,Object(Ke.a)(s))});case 14:return r.next=16,Object(Le.a)({type:"CANCEL_MOVE_TASK_TO_NEXT_WEEK_SUCCESS"});case 16:r.next=22;break;case 18:return r.prev=18,r.t0=r.catch(11),r.next=22,Object(Le.a)({type:"CANCEL_MOVE_TASK_TO_NEXT_WEEK_ERROR"});case 22:case"end":return r.stop()}}),Ge,null,[[11,18]])}var $e=Fe.a.mark(et);function et(){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Le.c)(y,He);case 2:return e.next=4,Object(Le.c)(N,Je);case 4:return e.next=6,Object(Le.c)(W,qe);case 6:return e.next=8,Object(Le.c)(D,Qe);case 8:return e.next=10,Object(Le.c)(A,Ze);case 10:case"end":return e.stop()}}),$e)}var tt=a(219),at=a(144),st=a(47),nt=a(24);p.a.extend(xe.a),p.a.extend(ge.a),p.a.extend(Se.a);var rt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||we.d,ct=Object(Ae.a)(),it=Object(we.c)({dateState:Ee,tasksState:De,firestore:at.firestoreReducer}),ot=Object(we.e)(it,rt(Object(we.a)(ct))),ut={firebase:Me,config:{},dispatch:ot.dispatch,createFirestoreInstance:at.createFirestoreInstance};ct.run(et),st.b.add(nt.c,nt.b,nt.d,nt.e,nt.f,nt.h,nt.l,nt.m,nt.a,nt.g,nt.k,nt.j,nt.i),i.a.render(Object(F.jsx)(r.a.StrictMode,{children:Object(F.jsx)(h.a,{store:ot,children:Object(F.jsx)(tt.ReactReduxFirebaseProvider,Object(s.a)(Object(s.a)({},ut),{},{children:Object(F.jsx)(me,{})}))})}),document.getElementById("root")),_e()}},[[428,1,2]]]);
//# sourceMappingURL=main.6dd32dcb.chunk.js.map